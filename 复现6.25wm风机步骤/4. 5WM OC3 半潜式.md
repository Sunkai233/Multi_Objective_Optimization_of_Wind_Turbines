# NREL 5WM OC3 半潜式

```

# NREL 5MW海上参考风力发电机组配置文件
# 基于OC3半潜式平台的5MW风机，采用更真实的可制造叶片设计
# 包含恒定宽度翼梁盖、后缘加强筋和前缘泡沫材料

name: 5MW with OC3 semisubmersible
comments: NREL 5MW Offshore Reference Wind Turbine, modified for a more realisitic manufacturable blade with constant width spar caps, trailing edge reinforcement, and leading edge foam that wraps around the full LE w/o a gap -EMG

# 主要装配参数
assembly:
    turbine_class: I          # 风机等级：I类（适用于低湍流地区）
    turbulence_class: B       # 湍流等级：B类（中等湍流强度）
    drivetrain: Geared        # 传动系统类型：齿轮箱传动
    rotor_orientation: Upwind # 风轮方向：上风向
    number_of_blades: 3       # 叶片数量：3片
    hub_height: 90.           # 轮毂高度：90米
    rotor_diameter: 126.      # 风轮直径：126米
    rated_power: 5.e+6        # 额定功率：5兆瓦

# 组件配置
components:
    # 叶片设计
    blade:
        # 叶片外形BEM（叶素动量理论）参数
        outer_shape_bem:
            # 翼型位置分布
            airfoil_position:
                labels: [Cylinder, Cylinder, DU40_A17, DU35_A17, DU30_A17, DU25_A17, DU21_A17, NACA64_A17, NACA64_A17]
                # 从根部到叶尖各翼型的无量纲径向位置
                grid: [0.0, 0.022222764227642276, 0.17137860377801986, 0.23333333333333334, 0.3666666666666667, 0.47222384517197835, 0.6005347184880255, 0.7, 1.0]
            
            # 弦长分布（米）
            chord:
                values: [3.5420, 3.5420, 3.8540, 4.1670, 4.5570, 4.6520, 4.4580, 4.2490, 4.0070, 3.7480, 3.5020, 3.2560, 3.0100, 2.7640, 2.5180, 2.3130, 2.0860, 1.4190, 1.4190]
                grid: [0., 0.022222764, 0.066666667, 0.111110569, 0.166666667, 0.233333333, 0.3, 0.366666667, 0.433333333, 0.5, 0.566666667, 0.633333333, 0.7, 0.766666667, 0.833333333, 0.888889431, 0.933333333, 0.977777236, 1.]

            # 叶片参考轴定义
            reference_axis: &ref_axis_blade  # YAML锚点定义，可被引用
                x:  # X方向坐标（米）
                    values: [0.0, 0.0]
                    grid: [0.0, 1.0]
                y:  # Y方向坐标（米）
                    values: [0.0, 0.0]
                    grid: [0.0, 1.0]
                z:  # Z方向坐标（叶片径向位置，米）
                    values: [0.0, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 1.3667, 1.5, 1.6, 4.1, 5.5, 6.8333, 9.0, 10.25, 12.0, 14.35, 17.0, 18.45, 20.5, 22.55, 24.6, 26.65, 30.75, 32.0, 34.85, 37.0, 38.95, 41.0, 42.0, 43.05, 45.0, 47.15, 51.25, 54.6667, 57.4, 60.1333, 61.5]
                    grid: [0.0, 0.004878048780487805, 0.0065040650406504065, 0.008130081300813009, 0.00975609756097561, 0.01138211382113821, 0.013008130081300813, 0.022222764227642276, 0.024390243902439025, 0.026016260162601626, 0.06666666666666667, 0.08943089430894309, 0.11111056910569106, 0.14634146341463414, 0.16666666666666666, 0.1951219512195122, 0.23333333333333334, 0.2764227642276423, 0.3, 0.3333333333333333, 0.3666666666666667, 0.4, 0.4333333333333333, 0.5, 0.5203252032520326, 0.5666666666666667, 0.6016260162601627, 0.6333333333333334, 0.6666666666666666, 0.6829268292682927, 0.7, 0.7317073170731707, 0.7666666666666666, 0.8333333333333334, 0.8888894308943089, 0.9333333333333333, 0.9777772357723576, 1.0]
            
            # 扭转角分布（弧度）
            twist: &id006
                values: [0.23226842, 0.23226842, 0.23226842, 0.23226842, 0.23226842, 0.2003638 , 0.17736036, 0.15727162, 0.13604842, 0.11421435, 0.0935671 , 0.07309439, 0.05454154, 0.04047419, 0.02663372, 0.01506219, 0.00645772, 0.00185005, 0.00185005]
                grid: [0., 0.022222764, 0.066666667, 0.111110569, 0.166666667, 0.233333333, 0.3, 0.366666667, 0.433333333, 0.5, 0.566666667, 0.633333333, 0.7, 0.766666667, 0.833333333, 0.888889431, 0.933333333, 0.977777236, 1.]
            
            # 桨距轴位置（弦长的百分比）
            pitch_axis:
                values: [0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.49849943151756665, 0.49737372372879446, 0.4692310290094897, 0.45347111996667905, 0.4384620580189794, 0.4140713473596524, 0.4, 0.4, 0.4, 0.4, 0.4, 0.4, 0.4, 0.4, 0.4, 0.4, 0.4, 0.4, 0.4, 0.4, 0.4, 0.4, 0.4, 0.4, 0.4, 0.4, 0.4, 0.4, 0.4, 0.4]
                grid: [0.0, 0.004878048780487805, 0.0065040650406504065, 0.008130081300813009, 0.00975609756097561, 0.01138211382113821, 0.013008130081300813, 0.022222764227642276, 0.024390243902439025, 0.026016260162601626, 0.06666666666666667, 0.08943089430894309, 0.11111056910569106, 0.14634146341463414, 0.16666666666666666, 0.1951219512195122, 0.23333333333333334, 0.2764227642276423, 0.3, 0.3333333333333333, 0.3666666666666667, 0.4, 0.4333333333333333, 0.5, 0.5203252032520326, 0.5666666666666667, 0.6016260162601627, 0.6333333333333334, 0.6666666666666666, 0.6829268292682927, 0.7, 0.7317073170731707, 0.7666666666666666, 0.8333333333333334, 0.8888894308943089, 0.9333333333333333, 0.9777772357723576, 1.0]

        # 叶片内部结构2D有限元定义
        internal_structure_2d_fem:
            reference_axis: *ref_axis_blade  # 引用上面定义的参考轴

            # 腹板结构
            webs:
                - name: Web_fore      # 前腹板
                  rotation:
                    fixed: twist      # 跟随扭转角旋转
                  offset_y_pa:        # 沿桨距轴的Y向偏移
                    grid: [0., 1.]
                    values: [-0.3, -0.3]
                - name: Web_aft       # 后腹板
                  rotation:
                    fixed: twist
                  offset_y_pa:
                    grid: [0., 1.]
                    values: [0.3, 0.3]

            # 叶片层结构定义
            layers:
                # UV防护层（凝胶涂层）
                - name: UV_protection
                  material: Gelcoat   # 材料：凝胶涂层
                  thickness:          # 厚度分布（米）
                    grid: [0.0, 1.0]
                    values: [5.00e-005, 5.00e-005]

                # 外壳蒙皮层
                - name: Shell_skin
                  material: glassTri  # 材料：三向玻璃纤维
                  thickness:
                    grid: [0.0, 0.012195122, 0.024390244, 0.04173430902113821, 0.05907837404227642, 0.07642243906341464, 0.09376650408455284, 0.11111056910569106, 0.12285420040379404, 0.134597831701897, 0.146341463, 0.16948828270588237, 0.1926351024117647, 0.21578192211764707, 0.2389287418235294, 0.2620755615294118, 0.28522238123529414, 0.3083692009411765, 0.3315160206470589, 0.3546628403529412, 0.37780966005882355, 0.4009564797647059, 0.4241032994705883, 0.4472501191764706, 0.47039693888235296, 0.49354375858823535, 0.5166905782941177, 0.539837398, 0.5629842177058824, 0.5861310374117648, 0.6092778571176471, 0.6324246768235295, 0.6555714965294117, 0.6787183162352941, 0.7018651359411765, 0.7250119556470589, 0.7481587753529413, 0.7713055950588237, 0.7944524147647058, 0.8175992344705882, 0.8407460541764706, 0.863892873882353, 0.8870396935882354, 0.9101865132941178, 0.933333333, 0.9466666664, 0.9599999998, 0.9733333332, 0.9866666666, 1.0]
                    values: [0.00282, 0.0028200000000000005, 0.00282, 0.002820000000000001, 0.0028199999999999996, 0.00282, 0.0028200000000000005, 0.00282, 0.0028200000000000005, 0.00282, 0.002820000000000001, 0.00282, 0.00282, 0.0028199999999999996, 0.00282, 0.0028200000000000005, 0.0028200000000000005, 0.0028200000000000005, 0.0028200000000000005, 0.0028199999999999996, 0.0028200000000000005, 0.002820000000000001, 0.0028200000000000005, 0.0028200000000000005, 0.0028199999999999996, 0.0028199999999999996, 0.0028200000000000005, 0.0028200000000000005, 0.00282, 0.0028200000000000005, 0.0028200000000000005, 0.0028200000000000005, 0.0028200000000000005, 0.0028200000000000005, 0.0028200000000000005, 0.0028200000000000005, 0.00282, 0.0028199999999999996, 0.00282, 0.00282, 0.00282, 0.00282, 0.0028199999999999996, 0.00282, 0.0028200000000000005, 0.0028199999999999996, 0.00282, 0.00282, 0.00282, 0.00282]

                # 根部加强层
                - name: Root_build_up
                  material: glassTri
                  thickness:
                    grid: [0.0, 0.012195122, 0.024390244, 0.04173430902113821, 0.05907837404227642, 0.07642243906341464, 0.09376650408455284, 0.11111056910569106, 0.12285420040379404, 0.134597831701897, 0.146341463]
                    values: [0.0517, 0.05143055156883146, 0.03168724979487978, 0.022937689819853137, 0.01581251190222806, 0.010208519984133593, 0.006022518007698769, 0.0031513099150526033, 0.0019014480880230875, 0.0011750229423390334, 0.00094]

                # 翼梁盖（压力面）
                - name: Spar_Cap_PS
                  material: CarbonUD  # 材料：单向碳纤维
                  side: pressure      # 位置：压力面
                  thickness:
                    grid: [0., 0.022222764, 0.111110569, 0.366666667, 0.666666667, 1.]
                    values: [0.00047, 0.00047, 0.0423, 0.0423, 0.03055, 0.00047]
                  width:              # 宽度分布
                    grid: [0.0, 1.0]
                    values: [0.75, 0.75]
                  rotation:
                    fixed: twist
                  offset_y_pa:
                    grid: [0., 1.]
                    values: [0., 0.]

                # 翼梁盖（吸力面）
                - name: Spar_Cap_SS
                  material: CarbonUD
                  side: suction       # 位置：吸力面
                  thickness:
                    grid: [0., 0.022222764, 0.111110569, 0.366666667, 0.666666667, 1.]
                    values: [0.00047, 0.00047, 0.0423, 0.0423, 0.03055, 0.00047]
                  width:
                    grid: [0.0, 1.0]
                    values: [0.75, 0.75]
                  rotation:
                    fixed: twist
                  offset_y_pa:
                    grid: [0., 1.]
                    values: [0., 0.]

                # 后缘加强筋（压力面）
                - name: TE_reinforcement_PS
                  material: glassUD   # 材料：单向玻璃纤维
                  side: pressure
                  end_nd_arc:
                    fixed: TE         # 固定在后缘位置
                  thickness:
                    grid: [0.024390244, 0.089430894, 0.366666667, 0.731707317, 1.]
                    values: [0.00047, 0.00705, 0.00705, 0.00047, 0.]
                  width:
                    grid: [0.024390243902439025, 0.731707317, 1.]
                    values: [0.45, 0.45, 0.05]

                # 后缘加强筋（吸力面）
                - name: TE_reinforcement_SS
                  material: glassUD
                  side: suction
                  start_nd_arc:
                    fixed: TE
                  thickness:
                    grid: [0.024390244, 0.089430894, 0.366666667, 0.731707317, 1.]
                    values: [0.00047, 0.00705, 0.00705, 0.00047, 0.]
                  width:
                    grid: [0.024390243902439025, 0.731707317, 1.]
                    values: [0.45, 0.45, 0.05]

                # 后缘泡沫填充（压力面）
                - name: TE_foam_PS
                  material: FOAM      # 材料：泡沫
                  thickness:
                    grid: [0.024390244, 0.089430894, 0.111110569, 0.366666667, 0.4, 0.633333333, 0.666666667, 0.933333333]
                    values: [0.020, 0.020, 0.090, 0.090, 0.060, 0.060, 0.020, 0.020]
                  start_nd_arc:
                    fixed: Spar_Cap_PS  # 起始位置：翼梁盖
                  end_nd_arc:
                    fixed: TE_reinforcement_PS  # 终止位置：后缘加强筋

                # 后缘泡沫填充（吸力面）
                - name: TE_foam_SS
                  material: FOAM
                  thickness:
                    grid: [0.024390244, 0.089430894, 0.111110569, 0.366666667, 0.4, 0.633333333, 0.666666667, 0.933333333]
                    values: [0.020, 0.020, 0.090, 0.090, 0.060, 0.060, 0.020, 0.020]
                  start_nd_arc:
                    fixed: TE_reinforcement_SS
                  end_nd_arc:
                    fixed: Spar_Cap_SS

                # 前缘泡沫填充（压力面）
                - name: LE_foam_PS
                  material: FOAM
                  thickness:
                    grid: [0.11111056910569106, 0.9333333333333333]
                    values: [0.02, 0.02]
                  start_nd_arc:
                    fixed: Spar_Cap_SS
                  end_nd_arc:
                    fixed: Spar_Cap_PS

                # 内部外壳蒙皮
                - name: Shell_skin_interior
                  material: glassTri
                  thickness:
                    values: [0.00282, 0.00282]
                    grid: [0.0, 1.0]

                # 前腹板玻璃纤维层
                - name: Web_fore_glass
                  web: Web_fore       # 应用到前腹板
                  material: glassDB   # 材料：双轴向玻璃纤维
                  thickness:
                    grid: &id004 [0., 1.]
                    values: &id005 [0.002, 0.002]

                # 前腹板泡沫层
                - name: Web_fore_foam
                  web: Web_fore
                  material: FOAM
                  thickness:
                    grid: [0., 1.]
                    values: [0.04, 0.04]

                # 前腹板第二层玻璃纤维
                - name: Web_fore_glass2
                  web: Web_fore
                  material: glassDB
                  thickness:
                    grid: *id004        # 引用上面定义的值
                    values: *id005

                # 后腹板玻璃纤维层
                - name: Web_aft_glass
                  web: Web_aft
                  material: glassDB
                  thickness:
                    grid: *id004
                    values: *id005

                # 后腹板泡沫层
                - name: Web_aft_foam
                  web: Web_aft
                  material: FOAM
                  thickness:
                    grid: [0., 1.]
                    values: [0.04, 0.04]

                # 后腹板第二层玻璃纤维
                - name: Web_aft_glass2
                  web: Web_aft
                  material: glassDB
                  thickness:
                    grid: *id004
                    values: *id005

    # 轮毂配置
    hub:
        cone_angle: 0.04363                    # 锥度角（弧度）
        diameter: 3.0                          # 直径（米）
        drag_coefficient: 0.5                  # 阻力系数
        hub_material: cast_iron                # 轮毂材料：铸铁
        spinner_material: glassDB              # 整流罩材料：双轴向玻璃纤维
        flange_t2shell_t: 4.0                  # 法兰厚度与壳体厚度比
        flange_OD2hub_D: 0.5                   # 法兰外径与轮毂直径比
        flange_ID2OD: 0.8                      # 法兰内径与外径比
        hub_blade_spacing_margin: 1.2          # 轮毂-叶片间距裕量
        hub_stress_concentration: 2.5          # 轮毂应力集中系数
        n_front_brackets: 3                    # 前支架数量
        n_rear_brackets: 3                     # 后支架数量
        clearance_hub_spinner: 0.75            # 轮毂-整流罩间隙
        spin_hole_incr: 1.2                    # 旋转孔增量系数
        pitch_system_scaling_factor: 0.54      # 变桨系统缩放因子
        spinner_gust_ws: 70.0                  # 整流罩抗阵风风速

    # 机舱配置
    nacelle:
        # 传动系统
        drivetrain:
            diameter: 3.0                      # 直径（米）
            uptilt: 0.08726                    # 上倾角（弧度）
            distance_tt_hub: 2.3               # 塔顶到轮毂距离（米）
            distance_hub_mb: 1.912             # 轮毂到主轴承距离（米）
            distance_mb_mb: 0.368              # 主轴承间距离（米）
            overhang: 5.                       # 悬垂距离（米）
            lss_diameter: [0.577, 0.577]       # 低速轴直径（米）
            lss_wall_thickness: [0.288, 0.288] # 低速轴壁厚（米）
            generator_length: 2.0              # 发电机长度（米）
            hss_length: 1.5                    # 高速轴长度（米）
            hss_diameter: [0.288, 0.288]       # 高速轴直径（米）
            hss_wall_thickness: [0.144, 0.144] # 高速轴壁厚（米）
            bedplate_flange_width: 1.0         # 底座法兰宽度（米）
            bedplate_flange_thickness: 0.05    # 底座法兰厚度（米）
            bedplate_web_thickness: 0.05       # 底座腹板厚度（米）
            gear_ratio: 96                     # 齿轮比
            planet_numbers: [3, 3, 0]          # 行星齿轮数量
            gear_configuration: eep            # 齿轮配置：eep（上位-上位-行星）
            gearbox_efficiency: 0.975          # 齿轮箱效率
            gearbox_torque_density: 200.       # 齿轮箱扭矩密度（Nm/kg）
            damping_ratio: 0.01                # 阻尼比
            mb1Type: CARB                      # 主轴承1类型：CARB（圆锥滚子轴承）
            mb2Type: SRB                       # 主轴承2类型：SRB（球面滚子轴承）
            uptower: True                      # 是否安装在塔上
            lss_material: steel_drive          # 低速轴材料：传动钢
            hss_material: steel_drive          # 高速轴材料：传动钢
            bedplate_material: steel           # 底座材料：钢

        # 发电机
        generator:
            generator_type: DFIG               # 发电机类型：双馈感应发电机
            rho_Fe: 7700.0                     # 铁密度（kg/m³）
            rho_Fes: 7850.0                    # 电工钢密度（kg/m³）
            rho_Copper: 8900.0                 # 铜密度（kg/m³）
            rho_PM: 7450.0                     # 永磁材料密度（kg/m³）
            B_r: 1.2                           # 剩磁磁感应强度（T）
            P_Fe0e: 1.0                        # 铁芯涡流损耗系数
            P_Fe0h: 4.0                        # 铁芯磁滞损耗系数
            S_N: -0.002                        # 额定滑差
            alpha_p: 1.0995574287564276        # 极对数系数
            b_r_tau_r: 0.45                    # 转子齿宽与极距比
            b_ro: 0.004                        # 转子轭部厚度系数
            b_s_tau_s: 0.45                    # 定子齿宽与极距比
            b_so: 0.004                        # 定子轭部厚度系数
            freq: 60                           # 电网频率（Hz）
            h_i: 0.001                         # 气隙高度（m）
            h_sy0: 0.0                         # 定子轭部基础高度
            h_w: 0.005                         # 绕组高度（m）
            k_fes: 0.9                         # 电工钢填充系数
            k_s: 0.2                           # 漏磁系数
            m: 3                               # 相数
            mu_0: 1.2566370614359173e-06       # 真空磁导率（H/m）
            mu_r: 1.06                         # 相对磁导率
            p: 3.0                             # 极对数
            phi: 1.5707963267948966             # 功率因数角（弧度）
            ratio_mw2pp: 0.7                   # 机械功率与电磁功率比
            resist_Cu: 2.52e-8                 # 铜电阻率（Ω·m）
            y_tau_pr: 0.8333333                # 转子极距系数
            rated_rpm: 1200.0                 # 额定转速（rpm）
            cofi: 0.9                          # 功率因数
            y_tau_p: 0.8                       # 极距系数
            sigma: 21.5e3                      # 材料强度（Pa）
            rad_ag: 0.61                       # 气隙半径（m）
            len_s: 0.49                        # 定子长度（m）
            h_s: 0.08                          # 定子高度（m）
            I_0: 40.0                          # 空载电流（A）
            B_symax: 1.3                       # 定子最大磁感应强度（T）
            S_Nmax: -0.2                       # 最大滑差
            h_0: 0.01                          # 基础高度（m）
            k_fillr: 0.55                      # 转子填充系数
            k_fills: 0.65                      # 定子填充系数
            q1: 5                              # 定子每极每相槽数
            q2: 4                              # 转子每极每相槽数
            C_Cu: 4.786                        # 铜成本系数
            C_Fe: 0.556                        # 铁成本系数
            C_Fes: 0.50139                     # 电工钢成本系数
            C_PM: 50.0                         # 永磁材料成本系数

    # 塔架配置
    tower:
        # 塔架外形BEM参数
        outer_shape_bem:
            # 塔架参考轴
            reference_axis: &ref_axis_tower
                x:
                    grid: [0.0, 1.0]
                    values: [0.0, 0.0]
                y:
                    grid: [0.0, 1.0]
                    values: [0.0, 0.0]
                z:  # 高度分布（米）
                    grid: &grid_tower [0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0]
                    values: [10.0, 17.76, 25.52, 33.28, 41.04, 48.8 , 56.56, 64.32, 72.08, 79.84, 87.6 ]
            
            # 外直径分布（米）
            outer_diameter:
                grid: *grid_tower
                values: [6.5 , 6.24, 5.97, 5.71, 5.45, 5.18, 4.92, 4.66, 4.4 , 4.13, 3.87]
            
            # 阻力系数
            drag_coefficient:
                grid: [0.0, 1.0]
                values: [1.0, 1.0]

        # 塔架内部结构2D有限元
        internal_structure_2d_fem:
            outfitting_factor: 1.083           # 装配系数
            reference_axis: *ref_axis_tower
            layers:
                - name: tower_wall             # 塔筒壁
                  material: steel              # 材料：钢
                  thickness:                   # 壁厚分布（米）
                    grid: *grid_tower
                    values: [0.027 , 0.0262, 0.0254, 0.0246, 0.0238, 0.023 , 0.0222, 0.0214, 0.0206, 0.0198, 0.019]

    # 浮式平台配置
    floating_platform:
        # 节点定义
        joints:
            - name: spar_keel              # Spar型平台龙骨
              location: [0.0, 0.0, -120.0] # 位置坐标（米）

            - name: spar_freeboard         # Spar型平台干舷
              location: [0.0, 0.0, 10.0]
              transition: True             # 过渡节点

            - name: fairlead1              # 系泊导缆器1
              location: [5.2, 0.0, -70.0]
              cylindrical: True            # 柱坐标系

            - name: fairlead2              # 系泊导缆器2（120度）
              location: [5.2, 2.0943951023931953, -70.0]
              cylindrical: True

            - name: fairlead3              # 系泊导缆器3（240度）
              location: [5.2, 4.1887902047863905, -70.0]
              cylindrical: True

            - name: anchor1                # 锚点1
              location: [853.87, 0.0, -320.0]
              cylindrical: True

            - name: anchor2                # 锚点2（120度）
              location: [853.87, 2.0943951023931953, -320.0]
              cylindrical: True

            - name: anchor3                # 锚点3（240度）
              location: [853.87, 4.1887902047863905, -320.0]
              cylindrical: True

        # 构件定义
        members:
            - name: spar                   # Spar主体
              joint1: spar_keel
              joint2: spar_freeboard
              outer_shape:
                shape: circular            # 圆形截面
                outer_diameter:            # 外径分布（米）
                    grid: [0.0, 0.8308, 0.8923, 1.0]
                    values: [9.4, 9.4, 6.5, 6.5]
              internal_structure:
                layers:
                    - name: spar_twall     # Spar壁厚
                      material: steel
                      thickness:
                        grid: [0.0, 1.0]
                        values: [0.08, 0.08]
                bulkhead:                  # 隔舱
                    material: steel
                    thickness:
                        grid: [0.0, 0.1, 0.5, 0.8308, 1.0]
                        values: [0.1, 0.05, 0.05, 0.05, 0.05]
                ballasts:                  # 压载水
                    - variable_flag: False # 固定压载
                      material: slurry     # 浆料
                      volume: 900          # 体积（立方米）
                      grid: [0.0, 0.4]
                    - variable_flag: True  # 可变压载
                      grid: [0.4, 1.0]

              axial_joints:
                - name: fairlead_attach    # 导缆器连接点
                  grid: 0.38462            # 应在-70m处

            # 导缆器支撑腿1
            - name: fairlead_leg1
              joint1: fairlead1
              joint2: fairlead_attach
              outer_shape: &fair_out       # YAML锚点定义
                shape: circular
                outer_diameter:
                    grid: [0.0, 1.0]
                    values: [1.0, 1.0]
              internal_structure: &fair_in
                layers:
                    - name: fairlead_twall
                      material: steel
                      thickness:
                        grid: [0.0, 1.0]
                        values: [0.1, 0.1]

            # 导缆器支撑腿2
            - name: fairlead_leg2
              joint1: fairlead2
              joint2: fairlead_attach
              outer_shape: *fair_out       # 引用上面定义的形状
              internal_structure: *fair_in

            # 导缆器支撑腿3
            - name: fairlead_leg3
              joint1: fairlead3
              joint2: fairlead_attach
              outer_shape: *fair_out
              internal_structure: *fair_in

    # 系泊系统
    mooring:
        # 节点定义
        nodes:
            - name: line1_anchor           # 系泊线1锚点
              node_type: fixed             # 固定节点
              joint: anchor1
              anchor_type: drag_embedment  # 拖曳嵌入锚

            - name: line2_anchor
              node_type: fixed
              joint: anchor2
              anchor_type: drag_embedment

            - name: line3_anchor
              node_type: fixed
              joint: anchor3
              anchor_type: drag_embedment

            - name: line1_vessel           # 系泊线1船端
              node_type: vessel            # 船舶节点
              joint: fairlead1
              fairlead_type: rigid         # 刚性导缆器

            - name: line2_vessel
              node_type: vessel
              joint: fairlead2
              fairlead_type: rigid

            - name: line3_vessel
              node_type: vessel
              joint: fairlead3
              fairlead_type: rigid

        # 系泊线定义
        lines:
            - name: line1                  # 系泊线1
              node1: line1_anchor
              node2: line1_vessel
              line_type: main              # 主系泊线类型
              unstretched_length: 902.2    # 无张力长度（米）

            - name: line2
              node1: line2_anchor
              node2: line2_vessel
              line_type: main
              unstretched_length: 902.2

            - name: line3
              node1: line3_anchor
              node2: line3_vessel
              line_type: main
              unstretched_length: 902.2

        # 系泊线类型定义
        line_types:
            - name: main
              diameter: 0.09               # 直径（米）
              type: chain                  # 类型：锚链
              transverse_added_mass: 1.0   # 横向附加质量系数
              tangential_added_mass: 0.0   # 切向附加质量系数
              transverse_drag: 1.6         # 横向阻力系数
              tangential_drag: 0.1         # 切向阻力系数

        # 锚型定义
        anchor_types:
            - name: drag_embedment
              type: drag_embedment         # 拖曳嵌入锚

# 翼型数据库
airfoils:
   # DU40_A17翼型（厚度比40%）
   - aerodynamic_center: 0.275             # 空气动力中心位置
     polars:                              # 极曲线数据
       - re: 1000000.0                     # 雷诺数
         configuration: Default            # 配置
         c_m:                              # 力矩系数
             grid: [-3.141592653589793, -3.0543261909900763, ...] # 攻角网格（弧度）
             values: [0.00037085425900144003, 0.09286770960422912, ...] # 对应的力矩系数值
         c_l:                              # 升力系数
             grid: [-3.141592653589793, -3.0543261909900763, ...]
             values: [0.012774299814956497, 0.22136791333599115, ...]
         c_d:                              # 阻力系数
             grid: [-3.141592653589793, -3.0543261909900763, ...]
             values: [0.06162547426059073, 0.06516753317324729, ...]
     name: DU40_A17
     coordinates:                          # 翼型坐标
         x: [1.0, 0.9966, 0.99314, ...]    # X坐标（弦长百分比）
         y: [-0.00347, -0.00261, ...]      # Y坐标（弦长百分比）
     relative_thickness: 0.4               # 相对厚度

   # 圆柱翼型
   - aerodynamic_center: 0.5
     polars:
       - re: 1000000.0
         configuration: Default
         c_m:                              # 圆柱的力矩系数为0
             grid: [-3.141592653589793, ...]
             values: [0.0, 0.0, ...]
         c_l:                              # 圆柱的升力系数为0
             grid: [-3.141592653589793, ...]
             values: [0.0, 0.0, ...]
         c_d:                              # 圆柱的阻力系数恒定为0.5
             grid: [-3.141592653589793, ...]
             values: [0.5000000000000001, ...]
     name: Cylinder
     coordinates:                          # 圆形坐标
         x: [1.0, 0.9966, ...]
         y: [0.0, -0.057731844881206, ...]
     relative_thickness: 1.0               # 相对厚度100%

   # DU30_A17翼型（厚度比30%）
   - aerodynamic_center: 0.275
     # ... 省略详细极曲线数据 ...
     name: DU30_A17
     relative_thickness: 0.3

   # DU21_A17翼型（厚度比21%）
   - aerodynamic_center: 0.275
     # ... 省略详细极曲线数据 ...
     name: DU21_A17
     relative_thickness: 0.21

   # DU25_A17翼型（厚度比25%）
   - aerodynamic_center: 0.275
     # ... 省略详细极曲线数据 ...
     name: DU25_A17
     relative_thickness: 0.25

   # DU35_A17翼型（厚度比35%）
   - aerodynamic_center: 0.275
     # ... 省略详细极曲线数据 ...
     name: DU35_A17
     relative_thickness: 0.35

   # NACA64_A17翼型（厚度比18%）
   - aerodynamic_center: 0.275
     # ... 省略详细极曲线数据 ...
     name: NACA64_A17
     relative_thickness: 0.18

# 材料数据库
materials:
   # 凝胶涂层
   - E: 3.44E+9                            # 弹性模量（Pa）
     name: Gelcoat
     G: 1323000000.0                       # 剪切模量（Pa）
     rho: 1235.0                           # 密度（kg/m³）
     orth: 0                               # 各向同性材料
     nu: 0.3                               # 泊松比
     Xt: 74.e+006                          # 拉伸强度（Pa）
     Xc: 87.e+006                          # 压缩强度（Pa）
     unit_cost: 7.23                       # 单位成本（$/kg）
     ply_t: 0.00051                        # 单层厚度（m）
     waste: 0.25                           # 废料率
     component_id: 0                       # 组件ID

   # 单向玻璃纤维
   - E: [41800000000.0, 14000000000.0, 2630000000.0] # 各向异性弹性模量
     name: glassUD
     G: [2630000000.0, 2630000000.0, 2630000000.0]   # 各向异性剪切模量
     rho: 1920.0
     orth: 1                               # 正交异性材料
     nu: [0.28, 0.28, 0.28]                # 各向异性泊松比
     Xt: [1060.0e+006, 66.3e+006, 26.6e+006]        # 各向异性拉伸强度
     Xc: [826.0e+006, 196.0e+006, 197.0e+006]       # 各向异性压缩强度
     m: 10                                 # 疲劳指数
     unit_cost: 1.87
     waste: 0.05
     fiber_density: 2600.                  # 纤维密度（kg/m³）
     area_density_dry: 1.858               # 干纤维面密度（kg/m²）
     component_id: 5

   # 三向玻璃纤维
   - E: [27700000000.0, 13650000000.0, 7200000000.0]
     name: glassTri
     G: [7200000000.0, 7200000000.0, 7200000000.0]
     rho: 1850.0
     orth: 1
     nu: [0.39, 0.39, 0.39]
     Xt: [54.5e+006, 54.5e+006, 26.6e+006]
     Xc: [74.1e+006, 74.1e+006, 197.0e+006]
     m: 10
     unit_cost: 2.86
     waste: 0.15
     fiber_density: 2600.
     area_density_dry: 1.112
     component_id: 2
     roll_mass: 181.4368                   # 卷材质量（kg）

   # 双轴向玻璃纤维
   - E: [13600000000.0, 13300000000.0, 11800000000.0]
     name: glassDB
     G: [11800000000.0, 11800000000.0, 11800000000.0]
     rho: 1780.0
     orth: 1
     nu: [0.49, 0.49, 0.49]
     Xt: [54.47e+006, 54.47e+006, 26.6e+006]
     Xc: [74.1e+006, 74.1e+006, 197.0e+006]
     m: 10
     unit_cost: 3.00
     waste: 0.15
     fiber_density: 2600.
     area_density_dry: 1.112
     component_id: 3
     roll_mass: 181.4368

   # 钢材（塔架和单桩用ASTM A572 50级）
   - name: steel
     description: Steel of the tower and monopile ASTM A572 Grade 50
     source: http://www.matweb.com/search/DataSheet.aspx?MatGUID=9ced5dc901c54bd1aef19403d0385d7f
     orth: 0
     rho: 7800                             # 密度（kg/m³）
     alpha: 0.0                            # 热膨胀系数
     E: 200.e+009                          # 弹性模量（Pa）
     nu: 0.3
     G: 79.3e+009                          # 剪切模量（Pa）
     GIc: 0                                # 模式I断裂韧性（占位符）
     GIIc: 0                               # 模式II断裂韧性（占位符）
     alp0: 0                               # 占位符
     Xt: 450.e+006                         # 拉伸强度（Pa）
     Xc: 450.e+006                         # 压缩强度（Pa）
     S: 0                                  # 剪切强度（Pa）
     Xy: 345.e+6                           # 屈服强度（Pa）
     m: 3                                  # 疲劳指数
     A: 3.5534648443719767e10              # 材料常数
     unit_cost: 0.7                        # 单位成本（$/kg）

   # 传动系统钢材（ASTM 4140 40Cr1Mo28）
   - name: steel_drive
     description: Steel of the drivetrain ASTM 4140 40Cr1Mo28
     source: http://www.matweb.com/search/DataSheet.aspx?MatGUID=38108bfd64c44b4c9c6a02af78d5b6c6
     orth: 0
     rho: 7850
     alpha: 0.0
     E: 205.e+009
     nu: 0.3
     G: 80.0e+009
     GIc: 0
     GIIc: 0
     alp0: 0
     Xt: 814.e+006
     Xc: 814.e+006
     S: 0
     Xy: 485.e+6
     m: 3
     A: 3.5534648443719767e10
     unit_cost: 0.9

   # 铸铁
   - name: cast_iron
     description: TODO Steel of the drivetrain ASTM 4140 40Cr1Mo28
     source: TODO http://www.matweb.com/search/DataSheet.aspx?MatGUID=38108bfd64c44b4c9c6a02af78d5b6c6
     orth: 0
     rho: 7200
     alpha: 0.0
     E: 118.e+009
     nu: 0.3
     G: 47.6e+009
     GIc: 0
     GIIc: 0
     alp0: 0
     Xt: 310.e+006
     Xc: 310.e+006
     S: 0
     Xy: 265.e+6
     m: 3
     unit_cost: 0.5

   # 泡沫材料
   - E: 98460000.0
     name: FOAM
     G: 98460000.0
     rho: 200.0                            # 密度（kg/m³）
     orth: 0
     nu: 0.3
     Xt: 6.04e+006
     Xc: 5.10e+006
     component_id: 1
     waste: 0.2
     unit_cost: 13
     ply_t: 0.0025                         # 单层厚度

   # 单向碳纤维
   - E: [114500000000.0, 8390000000.0, 5990000000.0]
     name: CarbonUD
     G: [5990000000.0, 5990000000.0, 5990000000.0]
     rho: 1220.0
     orth: 1
     nu: [0.27, 0.27, 0.27]
     Xt: [2236.0e+006, 0.00, 0.00]         # 极高的拉伸强度
     Xc: [1528.0e+006, 0.00, 0.00]
     m: 16.1                               # 高疲劳指数
     unit_cost: 30.00                      # 高成本
     waste: 0.05
     fiber_density: 1800.
     area_density_dry: 1.000
     component_id: 4

   # 树脂
   - name: resin
     description: epoxy                    # 环氧树脂
     E: 1.e+6
     rho: 1150.
     nu: 0.30
     Xt: 61.51e+006
     Xc: 65.36e+006
     orth: 0
     unit_cost: 3.63

   # 浆料（固定/永久压载）
   - name: slurry
     description: fixed/permanent ballast
     E: 1.0                                # 柔性材料
     nu: 0.3
     G: 1.0                                # 柔性材料
     Xt: 0                                 # 占位符
     Xc: 0
     S: 0
     rho: 5000.                            # 高密度压载材料
     alpha: 0.0
     unit_cost: 1.0
     orth: 0.0

   # 粘接剂
   - name: adhesive
     description: Sample adhesive
     source: https://www.nrel.gov/docs/fy19osti/73585.pdf
     orth: 0
     rho: 1100
     E: 4.56e+006
     nu: 0.49
     alpha: 0.0
     Xt: 0.69e+006
     Xc: 0.4e+006
     S: 0.31e+006
     G: 1520000.0
     unit_cost: 9.0

# 控制系统配置
control:
    # 监督控制
    supervisory:
        Vin: 3.0                           # 切入风速（m/s）
        Vout: 25.0                         # 切出风速（m/s）
        maxTS: 80.                         # 最大叶尖速度（m/s）
        rated_power: 5.e+6                 # 额定功率（W）
        minOmega: 0.72256                  # 最小角速度（rad/s）
        maxOmega: 1.26711                  # 最大角速度（rad/s）
    
    # 变桨控制
    pitch:
        PC_zeta: 0.7                       # 变桨控制器期望阻尼比
        PC_omega: 0.35                     # 变桨控制器期望自然频率（rad/s）
        ps_percent: 0.9                    # 削峰百分比（<=1）
        max_pitch: 1.57                    # 最大桨距角（弧度，90度）
        max_pitch_rate: 0.1745             # 最大桨距角速度（rad/s，10度/s）
        min_pitch: 0                       # 最小桨距角（弧度）
        fl_feedback:                       # 浮式反馈
            twr_freq: 100                  # 塔架频率陷波频率
            ptfm_freq: .2                  # 平台频率低通滤波频率
    
    # 转矩控制
    torque:
        control_type: tsr_tracking         # 控制类型：叶尖速比跟踪
        tsr: 7.01754386                    # 目标叶尖速比
        VS_zeta: 0.7                       # 转矩控制器期望阻尼比
        VS_omega: 0.2                      # 转矩控制器期望自然频率（rad/s）
        max_torque_rate: 1500000.          # 最大转矩变化率（Nm/s）
        VS_minspd: 0.72256                 # 最小转子转速（rad/s）
        VS_maxspd: 2.00000                 # 最大转子转速（rad/s）
    
    # 设定点平滑
    setpoint_smooth:
        ss_vsgain: 1                       # 转矩控制器设定点平滑增益偏差百分比
        ss_pcgain: .01                     # 变桨控制器设定点平滑增益偏差百分比
    
    # 停机控制
    shutdown:
        limit_type: gen_speed              # 限制类型：发电机转速
        limit_value: 2.0                   # 限制值

# 环境条件
environment:
    air_density: 1.225                     # 空气密度（kg/m³）
    air_dyn_viscosity: 1.81e-5             # 空气动力粘度（Pa·s）
    weib_shape_parameter: 2.               # 韦布尔分布形状参数
    air_speed_sound: 340.                  # 声速（m/s）
    shear_exp: 0.11                        # 风剪切指数
    water_density: 1025.0                  # 海水密度（kg/m³）
    water_dyn_viscosity: 1.3351e-3         # 海水动力粘度（Pa·s）
    water_depth: 320.0                     # 水深（m）
    significant_wave_height: 6.0           # 有效波高（m）
    significant_wave_period: 10.0          # 有效波周期（s）
    soil_shear_modulus: 140.e+6            # 土壤剪切模量（Pa）
    soil_poisson: 0.4                      # 土壤泊松比

# 平衡系统（BOS）
bos:
    plant_turbine_spacing: 7               # 风机间距（倍风轮直径）
    plant_row_spacing: 7                   # 行间距（倍风轮直径）
    commissioning_cost_kW: 44.0            # 调试成本（$/kW）
    decommissioning_cost_kW: 58.0          # 退役成本（$/kW）
    distance_to_substation: 50.0           # 到变电站距离（km）
    distance_to_interconnection: 8.        # 到并网点距离（km）
    interconnect_voltage: 130              # 并网电压（kV）

# 成本模型
costs:
    wake_loss_factor: 0.15                 # 尾流损失系数
    fixed_charge_rate: 0.075               # 固定费用率
    bos_per_kW: 2979.                      # BOS成本（$/kW）
    opex_per_kW: 144.                      # 运维成本（$/kW/年）
    turbine_number: 120                    # 风机数量
    labor_rate: 58.8                       # 人工费率（$/小时）
    painting_rate: 30.0                    # 涂装费率（$/m²）
    blade_mass_cost_coeff: 14.6            # 叶片质量成本系数（$/kg）
    hub_mass_cost_coeff: 3.9               # 轮毂质量成本系数（$/kg）
    pitch_system_mass_cost_coeff: 22.1     # 变桨系统质量成本系数（$/kg）
    spinner_mass_cost_coeff: 11.1          # 整流罩质量成本系数（$/kg）
    lss_mass_cost_coeff: 11.9              # 低速轴质量成本系数（$/kg）
    bearing_mass_cost_coeff: 4.5           # 轴承质量成本系数（$/kg）
    gearbox_torque_cost: 50.               # 齿轮箱扭矩成本（$/Nm）
    hss_mass_cost_coeff: 6.8               # 高速轴质量成本系数（$/kg）
    generator_mass_cost_coeff: 12.4        # 发电机质量成本系数（$/kg）
    bedplate_mass_cost_coeff: 2.9          # 底座质量成本系数（$/kg）
    yaw_mass_cost_coeff: 8.3               # 偏航系统质量成本系数（$/kg）
    converter_mass_cost_coeff: 18.8        # 变流器质量成本系数（$/kg）
    transformer_mass_cost_coeff: 18.8      # 变压器质量成本系数（$/kg）
    hvac_mass_cost_coeff: 124.0            # 暖通空调质量成本系数（$/kg）
    cover_mass_cost_coeff: 5.7             # 机舱罩质量成本系数（$/kg）
    elec_connec_machine_rating_cost_coeff: 41.85  # 电气连接额定功率成本系数（$/kW）
    platforms_mass_cost_coeff: 17.1        # 平台质量成本系数（$/kg）
    tower_mass_cost_coeff: 2.9             # 塔架质量成本系数（$/kg）
    controls_machine_rating_cost_coeff: 21.15     # 控制系统额定功率成本系数（$/kW）
    crane_cost: 12e3                       # 起重机成本（$）

# ==================================================================================
# 配置文件主要特点说明：
# 
# 1. 风机基本参数：
#    - NREL 5MW海上参考风机，采用OC3半潜式平台
#    - 3叶片上风向风机，风轮直径126m，轮毂高度90m
#    - 齿轮箱传动，双馈感应发电机
#
# 2. 叶片设计特点：
#    - 从根部圆柱过渡到叶尖的NACA64翼型
#    - 采用恒定宽度翼梁盖设计，提高制造可行性
#    - 碳纤维翼梁盖提供主要结构强度
#    - 玻璃纤维外壳和腹板提供剪切传递
#    - 泡沫填充减重并提供局部稳定性
#    - 后缘和前缘加强筋改善气弹稳定性
#
# 3. 浮式平台：
#    - Spar型单柱式平台，总长度130m
#    - 三点系泊，每条系泊线长约902m
#    - 压载系统包含固定和可变压载
#    - 导缆器位于水线下70m处
#
# 4. 控制系统：
#    - 变桨变速控制策略
#    - 叶尖速比跟踪（TSR=7.02）
#    - 浮式平台运动补偿
#    - 风速3-25m/s运行范围
#
# 5. 材料配置：
#    - 碳纤维用于高载荷翼梁盖
#    - 玻璃纤维用于外壳和腹板
#    - 钢材用于塔架、轮毂和平台
#    - 泡沫材料用于减重填充
#
# 6. 成本模型：
#    - 包含完整的建造、运维和退役成本
#    - 基于质量和功率的成本系数
#    - 考虑风场效应和尾流损失
#
# 此配置文件为风力发电机组的全面数字化描述，涵盖了从叶片翼型到
# 浮式平台系泊的所有主要组件，可用于性能分析、载荷计算、成本
# 估算等多种工程应用。
# ==================================================================================
```

