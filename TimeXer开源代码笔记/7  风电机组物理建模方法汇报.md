

# 风电机组物理建模方法汇报

## 1. 项目背景

风电机组是典型的非线性、多自由度动力系统，受风速、空气密度等外部环境影响，同时具有惯性和柔性结构特性。
 目标是通过 **单机仿真数据（OpenFAST）** 建立可解释的物理模型，并预测机组发电功率。

------

## 2. 模型设计思路

​										$y_t = f(x_t, u_t)$

- **输入 $u_t$**：外部激励
  - 风速 $U$ (`Wind1VelX`)
  - 空气密度 $\rho$
- **状态 $x_t$**：机组动力学状态（OpenFAST 输出）
  - 转子与发电机状态：`RotSpeed`, `GenSpeed`, `RotTorq`, `GenTq`
  - 塔架运动：`TTDspFA`, `TTDspSS`, `TTDspTwst`, `TwrBsFxt`, `TwrBsMyt`, `YawBrMxp`
  - 叶片状态：`B#TipTDxr`, `B#RootMxr`
- **输出 $y_t$**：发电功率
  - `GenPwr`
- **模型函数 $f, g$**：模型属于ARX模型，由 **TimeXer** 拟合

------

### 2.2 物理约束方程

| 模块                      | 变量                                       | 数学关系                                                     | 物理意义                                             |
| ------------------------- | ------------------------------------------ | ------------------------------------------------------------ | ---------------------------------------------------- |
| **1. 转子-发电机动力学**  | `RotSpeed`, `GenSpeed`, `RotTorq`, `GenTq` | $J_{rot}\dot{\omega}_{rot} = T_{aero} - T_{gen} - T_{loss}$  | 转速受扭矩驱动，体现转子惯性                         |
| **2. 塔-推力动力学**      | `TTDspFA`, `TwrBsFxt`, `TwrBsMyt`          | $M_t\ddot{x}_{FA} + C_t\dot{x}_{FA} + K_t x_{FA} = F_{thrust}$ | 塔顶位移响应风推力，体现结构动力学                   |
| **3. 叶片挠曲动力学**     | `B#TipTDxr`, `B#RootMxr`                   | $M_b \ddot{y}_b + C_b \dot{y}_b + K_b y_b = M_{root}$        | 叶片柔性变形响应气动载荷                             |
| **4. 机舱扭转与偏航载荷** | `TTDspTwst`, `YawBrMxp`, `YawBrMzp`        | $J_{yaw}\ddot{\theta}_{yaw} + C_{yaw}\dot{\theta}_{yaw} + K_{yaw}\theta_{yaw} = M_{yaw}$ | 机舱旋转响应风力及偏航力矩                           |
| **5. 气动功率与功率系数** | `Wind1VelX`, `GenPwr`, `BldPitch1`         | $P_{gen} = \eta_{gen} T_{gen}\omega_{gen}, \quad C_P = \frac{P_{gen}}{0.5 \rho A U^3}$ | 功率与风速、转速、桨距角关系，遵循能量守恒与Betz极限 |

------

## 3. TimeXer-PINN 拟合框架

### 3.1 网络结构

- **TimeXer** 用于学习状态转移和输出函数：
  - 输入：$[x_t, u_t]$
  - 输出：$[x_{t+1}, y_t]$
- 网络学习整个机组动力学非线性过程，ARX 风格。

### 3.2 PINN 物理约束损失函数

$\mathcal{L} = \mathcal{L}_{\text{data}}  + \lambda_1 \| J_{rot}\dot{\omega}_{rot} - (T_{aero}-T_{gen}) \|^2 + \lambda_2 \| M_t\ddot{x}_{FA} + C_t\dot{x}_{FA} + K_t x_{FA} - F_{thrust} \|^2 + \lambda_3 \| M_b \ddot{y}_b + C_b \dot{y}_b + K_b y_b - M_{root} \|^2 + \lambda_4 \| J_{yaw}\ddot{\theta}_{yaw} + C_{yaw}\dot{\theta}_{yaw} + K_{yaw}\theta_{yaw} - M_{yaw} \|^2 + \lambda_5 \| P_{gen} - \eta_{gen} T_{gen} \omega_{gen} \|^2$

- $\mathcal{L}_{\text{data}}$：预测功率的均方误差
- $\lambda_i$：物理约束权重，可调

### 3.3 训练目标

- 预测输出功率 $y_t = \texttt{GenPwr}$
- 保证动力学、结构响应与能量守恒约束一致
- 提升模型 **物理可解释性和稳定性**